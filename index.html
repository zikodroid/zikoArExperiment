<html>
  <head>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
      model-viewer { width: 100vw; height: 100vh; }
      .ar-controls {
        position: absolute; top: 16px; left: 50%; transform:translateX(-50%);
        z-index: 10; display: flex; gap: 12px;
      }
      .ar-controls button {
        padding: 10px 20px; border-radius: 8px; border: none; font-size: 1em; background: #1976d2; color: #fff; font-weight: bold; cursor: pointer;
      }
    </style>
  </head>
  <body style="margin:0;overflow:hidden;">
    <div class="ar-controls">
      <button onclick="playAnim(0)">Mount</button>
      <button onclick="playAnim(1)">Dismount</button>
      <button onclick="showAnims()">عرض الأنيميشنات</button>
    </div>
    <model-viewer id="mv"
      src="model.glb"
      ar
      ar-modes="webxr scene-viewer quick-look"
      camera-controls
      auto-rotate
      exposure="1"
      style="background: #000;">
      <button slot="ar-button" style="padding:18px 40px;background:#388e3c;color:white;font-size:1.1em;border-radius:10px;border:none;">AR starten</button>
    </model-viewer>
    <script>
      const mv = document.getElementById('mv');
      function playAnim(idx) {
        // متوفر فقط إذا ملفك فيه أكثر من حركة
        const anims = mv.availableAnimations || [];
        if (anims.length == 0) {
          alert("لا يوجد أنيميشنات في الملف");
          return;
        }
        mv.animationName = anims[idx]?.name || anims[0]?.name;
        mv.currentTime = 0;
        mv.play();
      }
      function showAnims() {
        const anims = mv.availableAnimations || [];
        if (anims.length == 0) {
          alert("لا يوجد أنيميشنات في الملف!");
          return;
        }
        alert("Animations:\n" + anims.map(a=>a.name).join('\n'));
      }
    </script>
  </body>
</html>
